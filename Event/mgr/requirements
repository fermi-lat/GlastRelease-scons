package GlastEvent
version v1r2

branches GlastEvent mgr doc src
use idents
use instrument v2r3
use data 
use Gaudi 

library GlastEvent \
        ../GlastEvent/*.h \ 
        ../GlastEvent/TopLevel/*.h \
        ../GlastEvent/MonteCarlo/*.h \
        MonteCarlo/*.cxx \
        ../GlastEvent/Irf/*.h \
        ../GlastEvent/Raw/*.h Raw/*.cpp \
        TopLevel/*.cpp

library GlastEventFactories \
        ../src/TopLevel/EventModel.cpp \
        ../src/Factories/*.cpp

include_path ${GLASTEVENTROOT}

macro GlastEventDir     "$(GLASTEVENTROOT)/$(DEBUGDIR)"

macro GlastEvent_stamps   "$(GlastEventDir)/GlastEvent.stamp"

macro GlastEvent_linkopts "$(GlastEventDir)/libGlastEvent.so" \
 LinuxStatic             "$(GlastEventDir)/libGlastEventFactories.a $(GlastEventDir)/libGlastEvent.a -u GlastEventFactories_loadRef" \
 VisualC                 "$(GlastEventDir)/libGlastEvent.lib" \
 VisualCStatic           "$(GlastEventDir)/libGlastEventFactories.lib $(GlastEventDir)/libGlastEvent.lib /include:GlastEventFactories_loadRef"
#
# Macro to define shared libraries
#
set GlastEventFactoriesShr "${GLASTEVENTROOT}/${DEBUGDIR}/libGlastEventFactories"

private
macro GlastEvent_shlibflags "$(GlastEventDir)/libGlastEvent.a $(libraryshr_linkopts) $(CLHEP_linkopts)" \
 VisualC                  "$(GlastEventDir)/libGlastEvent.lib $(libraryshr_linkopts) $(CLHEP_linkopts) /def:$(GlastEventDir)/libGlastEvent.def"

# note that dependent libs are debug

# for the moment, use libraryshr_linkopts to fix red hat 6.2 linking problem
#macro GlastEventFactories_shlibflags "$(componentshr_linkopts) $(Gaudi_linkopts) $(use_linkopts)"\
macro GlastEventFactories_shlibflags "$(libraryshr_linkopts) $(Gaudi_linkopts) $(use_linkopts)"\
        VisualC   "$(componentshr_linkopts) $(Gaudi_linkopts) $(use_linkopts) $(Win32Debug)"












