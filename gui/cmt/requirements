package gui
version v1

use GlastPolicy
use CLHEP

use GlastPolicy

include_dirs ${GUIROOT}


# These are the X-Windows link options, depending on the Motif/LessTif install (should be in EXTLIB)
macro X11_DIR "/usr/X11R6"
macro 	gui_X_linkopts "-L${X11_DIR}/lib -lXm -lXt -lX11"


# standard link options only gets gui lib
apply_pattern package_linkopts

#this macro for building a gui app, as opposed to a shareable
macro guiapp_linkopts "${gui_linkopts} ${gui_X_linkopts}"\
      WIN32 "${gui_linkopts} ${guiDir}/guisystem.lib user32.lib gdi32.lib winspool.lib comdlg32.lib shell32.lib /subsystem:windows"


# application command should include this to define dialog boxes in Windows app.

macro Win32Resource ""\
      WIN32 "${GUIROOT}/src/wingui.rc"


private
macro_append cppflags " -I ${X11_DIR}/include "\
             WIN32 ""

# the basic gui interface needed by clients
library  gui -no_share \
 LoopCommand.cxx      SceneControl.cxx \
 Menu.cxx             SubMenu.cxx   \
 CompoundCommand.cxx  ViewPort.cxx   \      
 DisplayControl.cxx   Vrml.cxx        \
 DisplayList.cxx      PSdraw.cxx           Vrml.h     \
 DisplayRep.cxx       PSdraw.h         \
 GraphicsVector.cxx   PrintControl.cxx  \
 GuiMgr.cxx           Projector.cxx     \
 Scene.cxx            GUI.cxx \
 ../gui/*.h 

# these are system-dependent (windows/motif) and are only needed for an executable
library guisystem -no_share \
 WinGUIostream.cxx    Xostream.cxx\
 WinGUIostream.h      Xostream.h  \
 WinMain.cxx          resource.h  \
 MotifGUI.cxx         MotifGUI.h           WinScene.cxx \
 WinScene.h           WinDraw.cxx          XScene.cxx\
 WinDraw.h            XScene.h \
 WinGUI.cxx           Xdraw.cxx\
 WinGUI.h             Xdraw.h 



#simple self-contained test program
macro_append cpplinkflags ${guiapp_linkopts}

application testGUI test/*.cxx ${Win32Resource}










