<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CalUtil: package CalUtil</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindexHL" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>package CalUtil </h1>
<p>
<h3 align="center">v1r4 </h3><dl compact><dt><b>Authors:</b></dt><dd>R.Dubois, Zach Fewtrell</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
This package provides utilities for common use in the CAL.<h2><a class="anchor" name="CalFailureModeSvc">
CalFailureModeSvc</a></h2>
<a class="el" href="class_cal_failure_mode_svc.html">CalFailureModeSvc</a> creates a list of large-scale failures in the CAL, and utilities to search the lists to allow digi and recon algorithms to ignore hits based on those lists.<p>
It can take lists of towers, (tower,AFEE) or (tower, Controller) pairs to create the lists of dead objects. It provides a method to see if a given CalXtalId is contained in the lists.<h3><a class="anchor" name="jobOptions">
jobOptions</a></h3>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>CalFailureModeSvc.towerList</em>&nbsp;</td><td>Provide a list of towers that will be made dead. Format: "tower" </td></tr>
    <tr><td></td><td valign=top><em>CalFailureModeSvc.towerAfeeList</em>&nbsp;</td><td>Provide a list of (tower, AFEE) pairs that will be made dead. Format: "tower_afee". Afee runs 0-3: x+,y+,x-,y- </td></tr>
    <tr><td></td><td valign=top><em>CalFailureModeSvc.towerControllerList</em>&nbsp;</td><td>Provide a list of (tower, controller) pairs that will be made dead. Format: "tower_controller". Controller runs 0-3: x+,y+,x-,y-.</td></tr>
  </table>
</dl>
<h2><a class="anchor" name="CalCalibSvc">
CalCalibSvc</a></h2>
<a class="el" href="class_i_cal_calib_svc.html">ICalCalibSvc</a> provides a Cal specific streamlined interface to the GLAST calorimeter calibration database. <a class="el" href="class_cal_calib_svc.html">CalCalibSvc</a> is currently the only concrete implementation of this interface. <a class="el" href="class_cal_calib_svc.html">CalCalibSvc</a> supports the following features:<p>
<ul>
<li>Simple interface: requires only specification of unique Cal xtal and range as input. Values are returned for the most part as C primitives (float, int, etc..) C++ std::vectors are used where appropriate.</li><li>Gleam/Gaudi mechanics such as TDS access, validity checking, calibration data format, database access, and data storage are all transparent to the user.</li><li>Some calibration types are vectors which represent the 'knots' on a spline curve. <a class="el" href="class_cal_calib_svc.html">CalCalibSvc</a> generates the spline objects for these types for the user. <a class="el" href="class_cal_calib_svc.html">CalCalibSvc</a> handles storage/deallocation/validation for these objects. Once created, spline objects are retained in memory until their become invalid. At this point, the cache is flushed and new objects are created.</li><li><a class="el" href="class_cal_calib_svc.html">CalCalibSvc</a> can be configured to assign different flavors to each calibration type.</li><li>Multiple instances of <a class="el" href="class_cal_calib_svc.html">CalCalibSvc</a> may be created if the user needs more than one flavor for one or more calibration types.</li></ul>
<h3><a class="anchor" name="jobOptions">
jobOptions</a></h3>
Suitable default values are currently provided for all options, so consider tham all 'optional'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>CalibDataSvc</em>&nbsp;</td><td>Name of service from which calibration data is obtained. (default="CalibDataSvc") </td></tr>
    <tr><td></td><td valign=top><em>DefaultFlavor</em>&nbsp;</td><td>Flavor for all calibration types unless otherwise specified (default="vanilla") </td></tr>
    <tr><td></td><td valign=top><em>FlavorGain</em>&nbsp;</td><td>calib flavor for CAL_ElecGain constants </td></tr>
    <tr><td></td><td valign=top><em>FlavorIntNonlin</em>&nbsp;</td><td>calib flavor for integral nonlinearity constants. </td></tr>
    <tr><td></td><td valign=top><em>FlavorLightAsym</em>&nbsp;</td><td>calib flavor for light-asymetry data. </td></tr>
    <tr><td></td><td valign=top><em>FlavorLightAtt</em>&nbsp;</td><td>calib flavor for light-attenuation data. </td></tr>
    <tr><td></td><td valign=top><em>FlavorMuSlope</em>&nbsp;</td><td>calib flavor for muon-slope data. </td></tr>
    <tr><td></td><td valign=top><em>FlavorPed</em>&nbsp;</td><td>calib flavor for pedestal data.</td></tr>
  </table>
</dl>
<h2><a class="anchor" name="CalResponseTools">
CalResponseTools</a></h2>
The CalReponseTools are a collection of tools which provide a consistent interface to calorimeter response calculations. Once again, as much Gleam/Gaudi mechanics as possible are hidden from the user.<p>
CalResponseTools consists of 3 interfaces.<ul>
<li><a class="el" href="class_i_cal_energy_tool.html">ICalEnergyTool</a> allows for the calculation of deposited energy given cal-digi information for one cal crystal.</li><li><a class="el" href="class_i_cal_pos_tool.html">ICalPosTool</a> allows for the calculation of the centroid position of the deposited energy given the cal-digi information for one cal crystal.</li><li><a class="el" href="class_i_cal_adc_tool.html">ICalAdcTool</a> allows for the calculation of the digital response of one cal crystal given a list of enery depositions for that crystal.</li></ul>
<p>
The <em>TestResponseTools</em> are the first implemenation of the CalResponseTools interface. They are intended to duplicate as accurately as possible the calculations in CalRecon/CalDigi/CalUtil as of EngineeringModel release v3r0402p22. They are intended for facilitating/testing the incorperation of the CalResponseTools interface in lieu of more sophisticated routines which should be forthcoming and which will use the same interface.<p>
<ul>
<li><a class="el" href="class_test_energy_tool.html">TestEnergyTool</a> implements <a class="el" href="class_i_cal_energy_tool.html">ICalEnergyTool</a>. The code is lifted directly from CalXtalRecAlg in CalRecon v5r16p1.</li><li><a class="el" href="class_test_pos_tool.html">TestPosTool</a> implements <a class="el" href="class_i_cal_energy_tool.html">ICalEnergyTool</a>. The code is lifted directly from CalXtalRecAlg in CalRecon v5r16p1.</li><li><a class="el" href="class_test_adc_tool.html">TestAdcTool</a> implelents <a class="el" href="class_i_cal_adc_tool.html">ICalAdcTool</a>. The code is lifted from two places: CalDigiAlg in CalDigi/v1r3p7 and LinearConvertADC from CalUtil/v1r2p2.</li></ul>
<h3><a class="anchor" name="jobOptions">
jobOptions</a></h3>
once again, suitable defaults exist for all parameters, none are necesarily 'required'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>TestEnergyTool.startTime</em>&nbsp;</td><td>for use in selecting calib data with appropriate validity interval. </td></tr>
    <tr><td></td><td valign=top><em>TestEnergyTool.calibFlavor</em>&nbsp;</td><td>flavor of calib data to use. "none" for simple 'dummy' constants. (default="none") </td></tr>
    <tr><td></td><td valign=top><em>TestPosTool.startTime</em>&nbsp;</td><td>for use in selecting calib data with appropriate validity interval. </td></tr>
    <tr><td></td><td valign=top><em>TestPosTool.calibFlavor</em>&nbsp;</td><td>flavor of calib data to use. "none" for simple 'dummy' constants. (default="none") </td></tr>
    <tr><td></td><td valign=top><em>TestAdcTool.doFluctuations</em>&nbsp;</td><td>approximate Poisson distribution by gaussian for numberElectrons. (default=true) </td></tr>
    <tr><td></td><td valign=top><em>TestAdcTool.xmlFile</em>&nbsp;</td><td>xml file for grabbing CalDigi configuration. (default="/xml/CalDigi.xml")</td></tr>
  </table>
</dl>
<hr>
 <h2><a class="anchor" name="notes">
release.notes</a></h2>
<a class="el" href="release_8notes.html">release.notes</a> <hr>
 <h2><a class="anchor" name="requirements">
requirements</a></h2>
<div class="fragment"><pre>package CalUtil

version v1r2p1

branches src cmt doc

use GlastSvc v*
use CalibSvc v*
use CalibData
use facilities

use RootPolicy v*
macro_append ROOT_libs " -lHist -lGraf -lGpad " \
             WIN32 " ${ROOT_PATH}/lib/libHist.lib ${ROOT_PATH}/lib/libGraf.lib ${ROOT_PATH}/lib/libGpad.lib "

apply_pattern packageShr

apply_pattern package_include


### hide the packages used only for test program
#private

apply_pattern package_headers
apply_pattern use_CalibData_symbols

library CalUtil *.cxx Dll/*.cxx ${CalUtil_headers}

#=============================================================
private

apply_pattern package_Cshlibflags 

# build this for testing, console only. Load all objects directly. 

set JOBOPTIONS ${CALUTILROOT}/src/test/jobOptions.txt

application test_CalUtil ${GlastMain} test/*.cxx  
</pre></div> <hr>
 <hr size="1"><address style="align: right;"><small>Generated on Tue Aug 24 19:18:38 2004 for CalUtil by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
