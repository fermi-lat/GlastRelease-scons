package FluxSvc
version v6r4p1

# $Id$

branches FluxSvc cmt doc

use GlastPolicy *

use Event   *

use GlastSvc *

use xml
use CLHEP v2* IExternal
use astro v0r*


apply_pattern packageShr
apply_pattern package_include

# this sets path for the Gaudi ParticleProperySvc to find the file 
#  $(FlUXSVCROOT)/cdf/particleproperty.cdf
set LHCBDBASE "${FLUXSVCROOT}"


#=============================================================
use facilities v2*

private


# get flags to build shared library
apply_pattern package_Cshlibflags

macro xml_files    "" WIN32 "-s=../xml *.xml *.dtd"
macro headers      "" WIN32 "*.h"

#static non-Gaudi library
library flux -no_share\
 $(headers) \
 AlbedoPSpectrum.cxx\
 CHIMESpectrum.cxx\
 CompositeSource.cxx\
 EventSource.cxx\
 FILESpectrum.cxx\
 Flux.cxx\
 FluxMgr.cxx\
 FluxSource.cxx\
 GalElSpectrum.cxx\
 Geomag.cxx\
 GPS.cxx\
 SimpleSpectrum.cxx\
 Spectrum.cxx\
 SpectrumFactoryTable.cxx\
 SurfaceMuons.cxx\
 TimeCandle.cxx*.cxx \
 -s=rootplot $(headers) *.cxx\
 $(xml_files) 

macro libs ""   WIN32   "$(FluxSvcDir)/flux.lib

macro FluxSvc_linkopts "-L $(FluxSvcDir) -lflux" \
                      WIN32 ""

macro interface_headers "" WIN32 "../FluxSvc/*.h"

library FluxSvc \
 $(interface_headers)\
 Dll/*.cxx\
 ExposureAlg.cxx\
 FluxAlg.cxx\
 FluxSvc.cxx\
 FluxSvcRandom.cxx\
 $(libs) 

# enable this for non-Gaudi testing
application testMgr test/flux/testMgr.cxx  $(libs) 

# non-Gaudi plots
application rootplots test/flux/roottest.cxx  $(libs) 

public
apply_pattern package_test
macro_append test_FluxSvc_files "" WIN32 "test/*.xml"
