package FluxSvc
version v6r2

# $Id$

branches FluxSvc cmt doc

use GlastPolicy *

use Event   *

use GlastSvc *

use xml
use CLHEP v2* IExternal
use astro v0r*


apply_pattern packageShr
apply_pattern package_include

# this sets path for the Gaudi ParticleProperySvc to find the file 
#  $(FlUXSVCROOT)/cdf/particleproperty.cdf
set LHCBDBASE "${FLUXSVCROOT}"


#=============================================================
use facilities v2*

private


# get flags to build shared library
apply_pattern package_Cshlibflags
apply_pattern package_headers

macro test_headers "" WIN32 " test/*.txt test/*.xml"
macro rootplot_headers "" WIN32 "rootplot/*.h"
macro xml_files "" WIN32 "-s=../xml *.xml *.dtd"

#static library
library FluxSvc_lib -no_share ${FluxSvc_headers} *.cxx \
   $(rootplot_headers) rootplot/*.cxx  $(xml_files) 

macro libs ""   WIN32   "$(FluxSvcDir)/FluxSvc_lib.lib

macro FluxSvc_linkopts "-L $(FluxSvcDir) -lFluxSvc_lib" \
                      WIN32 ""


library FluxSvc  Dll/*.cxx $(libs) 

# enable this for non-Gaudi testing
application testMgr test/flux/testMgr.cxx  $(libs) 

# non-Gaudi plots
application rootplots test/flux/roottest.cxx  $(libs) $(rootplot_headers) 

public
apply_pattern package_test
macro_append test_FluxSvc_files "" WIN32 "test/*.xml"
