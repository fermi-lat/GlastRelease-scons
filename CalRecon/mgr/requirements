package CalRecon
version v1r5

branches src mgr doc

use TkrRecon 
use GuiSvc
use GlastEvent

macro CalReconDir  "$(CALRECONROOT)/$(DEBUGDIR)"

# have a seperate library to export the calorimeter recon data classes 
library CalReconData -no_share CalLogID.cpp calorimeterGeo.cpp \
                     CalBase.cpp CalADCLogs.cpp CalRecLogs.cpp \
                     CsIClusters.cpp

macro CalRecon_linkopts   "$(CalReconDir)/libCalReconData.a  " \
      VisualC             "$(CalReconDir)/libCalReconData.lib  " 

library CalRecon  *.cxx *.cpp ../CalRecon/*.h  Dll/*.cpp


macro CalRecon_stamps     

set   CalReconShr           "${CALRECONROOT}/${DEBUGDIR}/libCalRecon"

path_append LD_LIBRARY_PATH "${CALRECONROOT}/${DEBUGDIR}/"


include_path $(CALRECONROOT)

private

# note that the debug versions of the used libraries are inserted below


# for the moment, use libraryshr_linkopts to fix red hat 6.2 linking problem
#macro CalRecon_shlibflags   "$(componentshr_linkopts) $(use_linkopts)"\
macro CalRecon_shlibflags   "$(libraryshr_linkopts) $(use_linkopts)"\
      VisualC               "DataObject.obj $(componentshr_linkopts) $(use_linkopts) $(Win32Debug)"


# build this for testing, console only. Load all objects directly. 


macro WinJobOptions  ""  VisualC   "test/jobOptions.txt"

macro_append use_linkopts $(console_linkopts)

application test_CalRecon test/*.cxx *.cxx *.cpp  Dll/*.cpp ${WinJobOptions}

