# -*- python -*-
# $Header$ 
# Authors: Johan Bregeon <johan.bregeon@pi.infn.it>
# Version: calibGenTRG-00-01-01
Import('baseEnv')
Import('listFiles')
Import('packages')

if baseEnv['PLATFORM'] != "win32":
  progEnv = baseEnv.Clone()
  libEnv = baseEnv.Clone()

  # to fix code
  libEnv.AppendUnique(CXXFLAGS = ['-Wall']) 

  # to build dependencies in the library (for debug ?)
  libEnv.Tool('addLibrary', library = baseEnv['rootGuiLibs'])
  libEnv.Tool('addLibrary', library = baseEnv['rootLibs'])
  libEnv.Tool('addLibrary', library = baseEnv['clhepLibs'])
  libEnv.Tool('commonRootDataLib')
  libEnv.Tool('mcRootDataLib')
  libEnv.Tool('digiRootDataLib')
  libEnv.Tool('reconRootDataLib')
  libEnv.Tool('CalUtilLib')
  
  # Shared library
  libEnv.Tool('addLinkDeps', package='calibGenTRG', toBuild='shared')
  calibGenTRG=libEnv.SharedLibrary('calibGenTRG', listFiles(['src/*.cxx']))

  # Programs
  progEnv.Tool('calibGenTRGLib')

  progEnv.Tool('registerTargets', package = 'calibGenTRG',
               libraryCxts = [[calibGenTRG, libEnv]],
               includes = listFiles(['calibGenTRG/*.h']))
    
